<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MarginRadar ‚Äî Dark Control Room</title>
  <style>
    :root{--bg:#0f172a;--bg2:#0b1f2f;--surface:rgba(255,255,255,.05);--line:rgba(255,255,255,.09);--text:#e7eefc;--muted:#95a7c8;--teal:#22d3ee;--orange:#f97316;--green:#10b981;--red:#fb7185}
    *{box-sizing:border-box} body{margin:0;color:var(--text);font-family:Inter,system-ui;background:radial-gradient(1200px 700px at -10% -20%,#133f6755 0%,transparent 58%),linear-gradient(145deg,var(--bg),var(--bg2));}
    .wrap{max-width:1160px;margin:18px auto 120px;padding:14px}.glass{background:var(--surface);border:1px solid var(--line);backdrop-filter:blur(10px);border-radius:16px}
    .top{padding:14px 16px;display:flex;justify-content:space-between;align-items:center}.brand{display:flex;align-items:center;gap:12px}.logo{position:relative;width:42px;height:42px;border-radius:12px;border:1px solid #2f4868;background:#0d1d31;display:grid;place-items:center;box-shadow:0 0 18px #22d3ee35}
    .radar{width:24px;height:24px;border-radius:50%;border:2px solid #58e4fb;position:relative}.radar:before,.radar:after{content:"";position:absolute;border-radius:50%;border:1.5px solid #58e4fb99}.radar:before{inset:4px}.radar:after{inset:8px}
    .sweep{position:absolute;inset:1px;border-radius:50%;background:conic-gradient(from 0deg,transparent 0 300deg,#22d3eebb 340deg,transparent 360deg);animation:spin 2.4s linear infinite}.ping{position:absolute;width:7px;height:7px;border-radius:999px;background:var(--teal);top:9px;right:8px;box-shadow:0 0 0 0 #22d3eeaa;animation:ping 1.8s ease-out 1}
    @keyframes spin{to{transform:rotate(360deg)}} @keyframes ping{0%{box-shadow:0 0 0 0 #22d3ee66}100%{box-shadow:0 0 0 16px transparent}}
    .hero{margin-top:12px;padding:18px}.hero h1{margin:0 0 8px;font-size:32px}.hero p{margin:0;color:var(--muted)} .badges{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}.badge{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#0f2136}
    .controls{display:flex;gap:18px;align-items:center}.select{height:36px;border-radius:999px;border:1px solid var(--line);background:#0c1828;color:#eaf2ff;padding:0 12px}

    .grid{margin-top:14px;display:grid;grid-template-columns:1fr 1fr;gap:14px}.card{padding:16px;animation:enter .35s ease both}.card:nth-child(2){animation-delay:.1s}@keyframes enter{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
    .head{display:flex;justify-content:space-between;align-items:center}.head h2{margin:0;font-size:18px}.chip{font-size:11px;padding:5px 9px;border-radius:999px;border:1px solid #2a4b69;color:#9bdef0}
    .group{margin:28px 0 0;padding:12px;border:1px dashed #2b4866;border-radius:12px}.group h4{margin:0 0 8px;font-size:12px;color:#a6bddf;letter-spacing:.08em;text-transform:uppercase}
    .row{margin:10px 0 14px}.label{display:flex;justify-content:space-between;font-size:13px;color:#c8d6ef;margin-bottom:5px}.sub{font-size:11px;color:var(--muted);margin-top:8px}
    .ctrl{display:grid;grid-template-columns:1fr 110px;gap:8px;align-items:center}
    input[type=range]{width:100%;height:48px;appearance:none;background:transparent} input[type=range]::-webkit-slider-runnable-track{height:8px;background:#233a55;border-radius:999px}
    .cost::-webkit-slider-runnable-track{background:#5a341f}
    input[type=range]::-webkit-slider-thumb{appearance:none;margin-top:-9px;width:26px;height:26px;border-radius:50%;background:var(--teal);box-shadow:0 0 0 4px #22d3ee30}
    input[type=number]{height:48px;border-radius:10px;border:1px solid var(--line);background:#0d1a2b;color:#f4f8ff;padding:10px;font-weight:600}
    input:focus,select:focus{outline:none;border-color:var(--teal);box-shadow:0 0 0 3px #22d3ee24}

    .kpis{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:12px}.mini{padding:10px;border:1px solid var(--line);border-radius:10px;background:#0c1828}.mini b{display:block;margin-top:4px;font-size:18px;color:var(--teal)}
    .viz{display:flex;align-items:center;gap:10px;margin-top:10px}.gauge{width:80px;height:80px;border-radius:50%;position:relative;display:grid;place-items:center;background:conic-gradient(var(--ring,#22d3ee) var(--pct,0%), #22384f 0)}.gauge::before{content:"";position:absolute;inset:8px;background:#0c1828;border-radius:50%}.gauge span{position:relative;font-size:10px;color:#aac0e2;text-align:center}

    .cta{margin-top:14px;padding:14px;display:flex;justify-content:space-between;align-items:center;gap:10px}.cta a{color:var(--teal);text-decoration:none;font-weight:700;padding:8px 10px;border:1px solid #1f4f63;border-radius:10px;background:#0f2433}

    .sticky{position:fixed;left:12px;right:12px;bottom:10px;z-index:20}.bar{padding:10px 12px;display:grid;grid-template-columns:1.35fr 1fr 1fr auto auto;gap:8px;align-items:center;border-top:1px solid #35557a;box-shadow:0 -10px 26px #00000055}
    .stat{padding:8px;border-radius:10px;background:#0c1828;border:1px solid var(--line)}.stat .k{font-size:11px;color:#9bb0d3}.stat .v{font-size:22px;font-weight:800;color:var(--teal)}
    .stat.roas .v{font-size:27px}
    .dangerStat{background:#3a1018;border-color:#7f1d1d}.dangerStat .v{color:#fb7185}
    .btn{height:44px;padding:0 12px;border-radius:10px;border:1px solid var(--line);background:#13243a;color:#d9e9ff;font-weight:600;cursor:pointer}
    footer{margin-top:16px;text-align:center;color:#89a0c6;font-size:12px}
    @media(max-width:900px){.grid{grid-template-columns:1fr}.bar{grid-template-columns:1fr 1fr}.stat .v{font-size:20px}.stat.roas .v{font-size:23px}}
  </style>
</head>
<body>
  <main class="wrap">
    <div class="glass top">
      <div class="brand"><div class="logo"><div class="sweep"></div><div class="radar"></div><div class="ping"></div></div><div><div style="font-weight:600">MarginRadar</div><div style="font-size:12px;color:var(--muted)">Built for DTC brands running paid acquisition.</div></div></div>
      <div class="controls"><select id="currency" class="select"><option>DKK</option><option>EUR</option><option>USD</option></select><a href="/" style="color:#b8c9e8;text-decoration:none;font-size:13px">‚Üê Tool Hub</a></div>
    </div>

    <section class="glass hero"><h1>Your unit economics, without guesswork.</h1><p>Dark control-room calculator for break-even ROAS and profit before ad spend.</p><div class="badges"><span class="badge">üõ° Privacy-first</span><span class="badge">üåê 100% browser-side</span><span class="badge">‚ö° No API cost</span></div></section>

    <section class="grid">
      <article class="glass card">
        <div class="head"><h2>Break-even ROAS</h2><span class="chip">Acquisition metrics</span></div>
        <div class="group"><h4>Revenue assumptions</h4>
          <div class="row"><div class="label"><span>AOV</span><span id="aovv">399</span></div><div class="ctrl"><input id="aovr" type="range" min="100" max="3000" value="399"><input id="aov" type="number" value="399"></div><div class="sub">Average order value including VAT.</div></div>
          <div class="row"><div class="label"><span>Gross margin (%)</span><span id="marginv">60</span></div><div class="ctrl"><input id="marginr" type="range" min="10" max="90" value="60"><input id="margin" type="number" value="60"></div><div class="sub">Before shipping, fees, and returns.</div></div>
        </div>
        <div class="group"><h4>Acquisition costs</h4>
          <div class="row"><div class="label"><span>Shipping per order</span><span id="shipv">39</span></div><div class="ctrl"><input class="cost" id="shipr" type="range" min="0" max="200" value="39"><input id="ship" type="number" value="39"></div><div class="sub">Includes pick, pack and delivery.</div></div>
          <div class="row"><div class="label"><span>Payment fee (%)</span><span id="feev">2.5</span></div><div class="ctrl"><input class="cost" id="feer" type="range" min="0" max="8" step="0.1" value="2.5"><input id="fee" type="number" step="0.1" value="2.5"></div><div class="sub">Card + gateway fee on gross checkout.</div></div>
          <div class="row"><div class="label"><span>Return rate (%)</span><span id="returnsv">8</span></div><div class="ctrl"><input class="cost" id="returnsr" type="range" min="0" max="40" value="8"><input id="returns" type="number" value="8"></div><div class="sub">Expected return share of total orders.</div></div>
        </div>
        <div class="kpis"><div class="mini">Max CAC<b id="maxCac" style="color:var(--green)">-</b></div><div class="mini">Contribution<b id="contribution" style="color:var(--teal)">-</b></div></div>
      </article>

      <article class="glass card">
        <div class="head"><h2>Profit per Order</h2><span class="chip">Margin health</span></div>
        <div class="group"><h4>Order economics</h4>
          <div class="row"><div class="label"><span>Sale price incl. VAT</span><span id="pricev">599</span></div><div class="ctrl"><input id="pricer" type="range" min="100" max="5000" value="599"><input id="price" type="number" value="599"></div><div class="sub">Final checkout value paid by customer.</div></div>
          <div class="row"><div class="label"><span>COGS</span><span id="cogsv">190</span></div><div class="ctrl"><input class="cost" id="cogsr" type="range" min="10" max="3000" value="190"><input id="cogs" type="number" value="190"></div><div class="sub">Supplier/manufacturing cost per item.</div></div>
          <div class="row"><div class="label"><span>Shipping</span><span id="shippingv">45</span></div><div class="ctrl"><input class="cost" id="shippingr" type="range" min="0" max="300" value="45"><input id="shipping" type="number" value="45"></div><div class="sub">Fulfillment and outbound shipping.</div></div>
          <div class="row"><div class="label"><span>Gateway fee (%)</span><span id="gatewayv">2.9</span></div><div class="ctrl"><input class="cost" id="gatewayr" type="range" min="0" max="8" step="0.1" value="2.9"><input id="gateway" type="number" step="0.1" value="2.9"></div><div class="sub">Payment processor fee on checkout value.</div></div>
          <div class="row"><div class="label"><span>Discount (%)</span><span id="discountv">10</span></div><div class="ctrl"><input class="cost" id="discountr" type="range" min="0" max="70" value="10"><input id="discount" type="number" value="10"></div><div class="sub">Promotional discount level.</div></div>
          <div class="row"><div class="label"><span>VAT (%)</span><span id="vatv">25</span></div><div class="ctrl"><input id="vatr" type="range" min="0" max="30" value="25"><input id="vat" type="number" value="25"></div><div class="sub">Local VAT in your target market.</div></div>
        </div>
        <div class="viz"><div class="gauge" id="gauge"><span id="gaugeText">Healthy</span></div><div class="kpis" style="flex:1"><div class="mini">Margin %<b id="marginPct">-</b></div><div class="mini">Net price ex VAT<b id="netExVat">-</b></div></div></div>
      </article>
    </section>

    <section class="glass cta"><div><strong>Want more tools like this?</strong><div style="color:var(--muted);font-size:13px">Explore the full mini-tool hub and upcoming calculators.</div></div><a href="/">Explore more tools ‚Üí</a></section>
    <footer>Built by Mini Tools Lab</footer>
  </main>

  <div class="sticky"><div class="glass bar"><div class="stat roas"><div class="k">Break-even ROAS</div><div class="v" id="roas">-</div></div><div class="stat" id="profitStat"><div class="k">Profit / order</div><div class="v" id="profit">-</div></div><button class="btn" id="copyBtn">Copy results</button><button class="btn" id="resetBtn">Reset</button></div></div>

  <script>
    const defaults={aov:399,margin:60,ship:39,fee:2.5,returns:8,price:399,cogs:120,shipping:39,gateway:2.5,discount:5,vat:25};
    const symbols={DKK:'DKK',EUR:'‚Ç¨',USD:'$'}; const $=id=>document.getElementById(id); const fields=Object.keys(defaults);
    const dkk=n=>`${n.toFixed(2)} ${$('currency').value}`;
    function syncPair(n,v){const a=$(n),b=$(n+'r'),c=$(n+'v');if(a)a.value=v;if(b)b.value=v;if(c)c.textContent=v}
    function bind(n){[$(n),$(n+'r')].forEach(el=>el&&el.addEventListener('input',e=>{syncPair(n,e.target.value);calc()}))}
    function animate(el,to,s=''){const from=parseFloat(el.dataset.v||'0');const st=performance.now(),dur=300;function f(t){const p=Math.min(1,(t-st)/dur),val=from+(to-from)*p;el.textContent=`${val.toFixed(2)}${s}`;if(p<1)requestAnimationFrame(f);else el.dataset.v=to}requestAnimationFrame(f)}

    function calc(){
      const aov=+$('aov').value, margin=+$('margin').value/100, ship=+$('ship').value, fee=+$('fee').value/100, returns=+$('returns').value/100;
      const gross=aov*margin, feeCost=aov*fee, retCost=aov*returns*margin, contribution=gross-ship-feeCost-retCost, roas= contribution>0 ? aov/contribution : 999;
      const price=+$('price').value,cogs=+$('cogs').value,shipping=+$('shipping').value,gateway=+$('gateway').value/100,discount=+$('discount').value/100,vat=+$('vat').value/100;
      const discounted=price*(1-discount), net=discounted/(1+vat), gatewayCost=discounted*gateway, profit=net-cogs-shipping-gatewayCost, rawMargin=net?((profit/net)*100):0, marginPct=Number.isFinite(rawMargin)?rawMargin:0;

      animate($('roas'),Math.min(roas,999),'x');
      $('maxCac').textContent=dkk(contribution); $('contribution').textContent=dkk(contribution); $('netExVat').textContent=dkk(net);
      $('profit').textContent=dkk(profit); $('marginPct').textContent=marginPct.toFixed(1)+'%';

      const ps=$('profitStat'); ps.classList.toggle('dangerStat',profit<0); $('profit').style.color=profit<0?'var(--red)':'var(--green)';
      let state='Healthy', ring='var(--green)', pct=88;
      if(marginPct<=0){state='Loss'; ring='var(--red)'; pct=6}
      else if(marginPct<=20){state='Tight'; ring='var(--orange)'; pct=42}
      $('gauge').style.setProperty('--ring',ring); $('gauge').style.setProperty('--pct',pct+'%'); $('gaugeText').textContent=state;
      $('marginPct').style.color= ring;
    }

    fields.forEach(f=>{syncPair(f,defaults[f]);bind(f)}); $('currency').addEventListener('change',calc); calc();
    $('resetBtn').addEventListener('click',()=>{fields.forEach(f=>syncPair(f,defaults[f]));$('currency').value='DKK';calc()});
    $('copyBtn').addEventListener('click',async()=>{const text=`MarginRadar\nCurrency: ${$('currency').value}\nBreak-even ROAS: ${$('roas').textContent}\nProfit/order: ${$('profit').textContent}\nMax CAC: ${$('maxCac').textContent}\nContribution: ${$('contribution').textContent}\nMargin: ${$('marginPct').textContent}`;try{await navigator.clipboard.writeText(text);$('copyBtn').textContent='Copied';setTimeout(()=>$('copyBtn').textContent='Copy results',1000)}catch{}});
  </script>
</body>
</html>