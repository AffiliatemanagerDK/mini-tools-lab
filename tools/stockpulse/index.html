<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StockPulse ‚Äî Inventory Runway Timeline</title>
  <meta name="description" content="StockPulse: no-API inventory runway + reorder timeline calculator for e-commerce operators." />
  <style>
    :root{
      --bg:#0b1121;--bg2:#0f172a;--surface:rgba(255,255,255,.06);--line:rgba(255,255,255,.11);
      --text:#eef4ff;--muted:#9fb0cb;--accent:#f59e0b;--accentSoft:#fbbf24;--green:#22c55e;--orange:#f59e0b;--red:#ef4444;
    }
    *{box-sizing:border-box}
    body{margin:0;color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:radial-gradient(900px 500px at 120% -15%, #5b3b0f66 0%, transparent 60%),radial-gradient(1100px 700px at -15% -20%, #1d2f6d66 0%, transparent 58%),linear-gradient(165deg,var(--bg),var(--bg2));}
    .wrap{max-width:900px;margin:20px auto 120px;padding:14px}
    .glass{background:var(--surface);border:1px solid var(--line);backdrop-filter:blur(10px);border-radius:16px}

    .top{padding:12px 14px;display:flex;justify-content:space-between;align-items:center;gap:8px}
    .brand{display:flex;gap:10px;align-items:center}
    .logo{width:38px;height:38px;border-radius:11px;border:1px solid #6a4c1e;background:#201606;display:grid;place-items:center}
    .pulseDot{width:14px;height:14px;border-radius:999px;background:var(--accent);box-shadow:0 0 0 0 #f59e0baa;animation:pulse 1.8s ease-out infinite}
    @keyframes pulse{0%{box-shadow:0 0 0 0 #f59e0b66}100%{box-shadow:0 0 0 14px transparent}}
    .top a{color:#ffdca2;text-decoration:none;font-size:13px}

    .hero{margin-top:10px;padding:16px}
    .hero h1{margin:0;font-size:34px;line-height:1.04}
    .hero p{margin:8px 0 0;color:var(--muted)}
    .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .badge{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#2a1f0d}

    .section{margin-top:12px;padding:14px}
    .section h2{margin:0 0 10px;font-size:19px}
    .flow{display:grid;gap:10px}
    .field{padding:11px;border:1px dashed #7f6025;border-radius:12px;background:#1b1408}
    .label{display:flex;justify-content:space-between;gap:8px;font-size:13px;color:#ffe7bf}
    .sub{font-size:11px;color:var(--muted);margin-top:5px}
    input[type=number]{width:100%;height:46px;margin-top:8px;border-radius:10px;border:1px solid #7a612e;background:#130f08;color:var(--text);padding:10px 12px;font-weight:700;font-size:16px}
    input[type=number]:focus{outline:none;border-color:var(--accentSoft);box-shadow:0 0 0 3px #f59e0b2c}

    .toggle{display:flex;gap:8px;margin-top:8px}
    .seg{border:1px solid #6f5424;background:#191206;color:#d9c49a;padding:8px 12px;border-radius:999px;font-size:12px;cursor:pointer}
    .seg.active{border-color:var(--accentSoft);color:#ffe8bd;background:#2f220d}

    .runway{margin-top:10px;padding:12px;border-radius:12px;background:#171008;border:1px solid #5e4820}
    .runwayHead{display:flex;justify-content:space-between;font-size:12px;color:#dcc6a1}
    .track{height:14px;border-radius:999px;background:#2b2418;margin-top:8px;overflow:hidden;position:relative}
    .fill{height:100%;width:0%;background:linear-gradient(90deg,var(--green),var(--accent),var(--red));transition:width .35s ease}
    .fill.warn{animation:pulsebar 1.4s ease-in-out infinite}
    @keyframes pulsebar{0%,100%{filter:brightness(1)}50%{filter:brightness(1.2)}}

    .timeline{margin-top:10px;position:relative;height:56px}
    .axis{position:absolute;left:0;right:0;top:24px;height:6px;border-radius:999px;background:#322818}
    .mark{position:absolute;top:9px;transform:translateX(-50%);text-align:center;min-width:88px}
    .mark .dot{width:10px;height:10px;border-radius:999px;margin:0 auto 4px;background:#ffd48a}
    .mark .t{font-size:10px;color:#ceb484}
    .mark.today .dot{background:#c4d6ff}
    .mark.reorder .dot{background:var(--accentSoft)}
    .mark.stockout .dot{background:#ff8c8c}

    .cards{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
    .mini{padding:11px;border:1px solid var(--line);border-radius:12px;background:#141a2a}
    .mini .k{font-size:11px;color:var(--muted)}
    .mini .v{margin-top:5px;font-size:24px;font-weight:800;color:var(--accentSoft)}
    .mini .icon{font-size:13px;opacity:.9;margin-right:5px}

    .risk{display:inline-block;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:700;margin-top:6px}
    .safe{color:#a8f5c1;border:1px solid #348b55;background:#10311f}
    .warning{color:#ffe0ac;border:1px solid #9f6b23;background:#39260d}
    .critical{color:#ffb0bb;border:1px solid #b2414f;background:#42151a}

    .cta{margin-top:12px;padding:14px;display:flex;justify-content:space-between;align-items:center;gap:10px}
    .cta a{color:var(--accentSoft);text-decoration:none;font-weight:700}
    footer{margin-top:12px;text-align:center;color:#8fa3c2;font-size:12px}

    .sticky{position:fixed;left:12px;right:12px;bottom:10px;z-index:20}
    .bar{padding:10px;display:grid;grid-template-columns:1.4fr 1fr auto auto;gap:8px;align-items:center;border-top:1px solid #5e4820;box-shadow:0 -10px 24px #0006}
    .stat{padding:8px;border-radius:10px;background:#191105;border:1px solid #61491e}
    .stat .k{font-size:11px;color:#d0b788}.stat .v{font-size:24px;font-weight:800;color:var(--accentSoft)}
    .btn{height:44px;padding:0 12px;border-radius:10px;border:1px solid #735721;background:#2a1f0d;color:#ffe4b5;font-weight:700;cursor:pointer}

    @media(max-width:900px){.bar{grid-template-columns:1fr 1fr}.cards{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <main class="wrap">
    <div class="glass top">
      <div class="brand">
        <div class="logo"><div class="pulseDot"></div></div>
        <div>
          <div style="font-weight:700">StockPulse</div>
          <div style="font-size:12px;color:var(--muted)">Inventory timing for DTC operators.</div>
        </div>
      </div>
      <a href="/">‚Üê Tool Hub</a>
    </div>

    <section class="glass hero">
      <h1>See your runway.<br/>Know your reorder date.</h1>
      <p>Linear, actionable flow: stock ‚Üí velocity ‚Üí lead time ‚Üí reorder moment.</p>
      <div class="badges"><span class="badge">üõ°Ô∏è Privacy-first</span><span class="badge">üåê Browser-side</span><span class="badge">‚ö° No API cost</span></div>
    </section>

    <section class="glass section">
      <h2>Input flow</h2>
      <div class="flow">
        <div class="field"><div class="label"><span>Current stock</span><span id="stockv">520</span></div><input id="stock" type="number" min="0" value="520"><div class="sub">Units available now.</div></div>
        <div class="field">
          <div class="label"><span>Sales velocity</span><span id="salesv">26 / day</span></div>
          <div class="toggle"><button class="seg active" id="modeDay" type="button">Units / day</button><button class="seg" id="modeWeek" type="button">Units / week</button></div>
          <input id="sales" type="number" min="0.01" step="0.01" value="26"><div class="sub">How fast stock is moving.</div>
        </div>
        <div class="field"><div class="label"><span>Lead time (days)</span><span id="leadv">14</span></div><input id="lead" type="number" min="0" value="14"><div class="sub">PO to received inventory.</div></div>
        <div class="field"><div class="label"><span>Safety stock</span><span id="safetyv">120</span></div><input id="safety" type="number" min="0" value="120"><div class="sub">Buffer for volatility.</div></div>
        <div class="field"><div class="label"><span>MOQ</span><span id="moqv">300</span></div><input id="moq" type="number" min="0" value="300"><div class="sub">Supplier minimum order.</div></div>
      </div>
    </section>

    <section class="glass section">
      <h2>Runway timeline</h2>
      <div class="runway">
        <div class="runwayHead"><span id="riskTag" class="risk safe">Safe</span><span id="runwayDays">20.0 days runway</span></div>
        <div class="track"><div id="runwayFill" class="fill"></div></div>
        <div class="timeline">
          <div class="axis"></div>
          <div class="mark today" style="left:0%"><div class="dot"></div><div class="t">Today</div></div>
          <div class="mark reorder" id="reorderMark" style="left:25%"><div class="dot"></div><div class="t">Reorder by</div></div>
          <div class="mark stockout" id="stockoutMark" style="left:100%"><div class="dot"></div><div class="t">Stockout</div></div>
        </div>
      </div>

      <div class="cards">
        <div class="mini"><div class="k"><span class="icon">üì¶</span>Recommended order</div><div class="v" id="orderQty">300 units</div></div>
        <div class="mini"><div class="k"><span class="icon">üóìÔ∏è</span>Reorder date</div><div class="v" id="reorderDate" style="font-size:20px">11 Mar 2026</div></div>
        <div class="mini"><div class="k"><span class="icon">‚õ≥</span>Stockout date</div><div class="v" id="stockoutDate" style="font-size:20px">17 Mar 2026</div></div>
        <div class="mini"><div class="k"><span class="icon">‚ö†Ô∏è</span>Risk note</div><div class="v" id="riskNote" style="font-size:16px;color:#cfdaf2">No immediate reorder pressure.</div></div>
      </div>
    </section>

    <section class="glass cta"><div><strong>Want more tools like this?</strong><div style="color:var(--muted);font-size:13px">Explore the full mini-tool hub.</div></div><a href="/">Explore more tools ‚Üí</a></section>
    <footer>Built by Mini Tools Lab</footer>
  </main>

  <div class="sticky"><div class="glass bar"><div class="stat"><div class="k">Days until reorder</div><div class="v" id="stickyDays">6.0</div></div><div class="stat"><div class="k">Risk</div><div class="v" id="stickyRisk">Safe</div></div><button class="btn" id="copyBtn">Copy results</button><button class="btn" id="resetBtn">Reset</button></div></div>

  <script>
    const defaults={stock:520,sales:26,lead:14,safety:120,moq:300,mode:'day'};
    const $=id=>document.getElementById(id);
    const fmtDate=d=>d.toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'});
    let velocityMode=defaults.mode;

    function setMode(mode){
      velocityMode=mode;
      $('modeDay').classList.toggle('active',mode==='day');
      $('modeWeek').classList.toggle('active',mode==='week');
      const v=+$('sales').value||0;
      $('salesv').textContent=mode==='day'?`${v} / day`:`${v} / week`;
      calc();
    }

    function val(id,min=0){return Math.max(min,+$(id).value||min)}

    function calc(){
      const stock=val('stock');
      const salesRaw=val('sales',0.01);
      const lead=val('lead');
      const safety=val('safety');
      const moq=val('moq');

      const salesPerDay = velocityMode==='week' ? salesRaw/7 : salesRaw;
      const runway = stock / salesPerDay;
      const reorderPoint = salesPerDay*lead + safety;
      const daysUntilReorder=(stock-reorderPoint)/salesPerDay;
      const suggested=Math.max(0,Math.ceil(Math.max(moq,(salesPerDay*30+safety)-stock)));

      const now=new Date();
      const stockoutDate=new Date(now.getTime()+runway*86400000);
      const reorderDate=new Date(stockoutDate.getTime()-lead*86400000);

      $('stockv').textContent=stock.toLocaleString();
      $('salesv').textContent=velocityMode==='day'?`${salesRaw} / day`:`${salesRaw} / week`;
      $('leadv').textContent=lead;
      $('safetyv').textContent=safety.toLocaleString();
      $('moqv').textContent=moq.toLocaleString();

      $('runwayDays').textContent=`${runway.toFixed(1)} days runway`;
      $('orderQty').textContent=`${suggested.toLocaleString()} units`;
      $('reorderDate').textContent=fmtDate(reorderDate);
      $('stockoutDate').textContent=fmtDate(stockoutDate);

      const ratio=Math.max(0,Math.min(1,daysUntilReorder/Math.max(runway,0.01)));
      $('reorderMark').style.left=`${(ratio*100).toFixed(1)}%`;
      $('stockoutMark').style.left='100%';

      const fillPct=Math.max(0,Math.min(100,(runway/45)*100));
      const fill=$('runwayFill');
      fill.style.width=`${fillPct}%`;
      fill.classList.remove('warn');

      let label='Safe', note='No immediate reorder pressure.', cls='safe', color='#baf7cd';
      if(daysUntilReorder<=0){label='Critical';note='Order now ‚Äî below reorder point.';cls='critical';color='#ffb0bb';fill.classList.add('warn')}
      else if(daysUntilReorder<=7){label='Order soon';note='Place PO this week to avoid stockout.';cls='warning';color='#ffe2b0';fill.classList.add('warn')}

      $('riskTag').className='risk '+cls;
      $('riskTag').textContent=label;
      $('riskNote').textContent=note;
      $('stickyRisk').textContent=label;
      $('stickyRisk').style.color=color;
      $('stickyDays').textContent=daysUntilReorder<=0?'Order now':daysUntilReorder.toFixed(1);
    }

    ['stock','sales','lead','safety','moq'].forEach(id=>$(id).addEventListener('input',calc));
    $('modeDay').addEventListener('click',()=>setMode('day'));
    $('modeWeek').addEventListener('click',()=>setMode('week'));

    $('resetBtn').addEventListener('click',()=>{
      Object.entries(defaults).forEach(([k,v])=>{if(k!=='mode')$(k).value=v});
      setMode(defaults.mode);
      calc();
    });

    $('copyBtn').addEventListener('click',async()=>{
      const txt=`StockPulse\nRunway: ${$('runwayDays').textContent}\nReorder date: ${$('reorderDate').textContent}\nStockout date: ${$('stockoutDate').textContent}\nOrder qty: ${$('orderQty').textContent}\nRisk: ${$('riskTag').textContent}`;
      try{await navigator.clipboard.writeText(txt);$('copyBtn').textContent='Copied';setTimeout(()=>$('copyBtn').textContent='Copy results',1200)}catch{}
    });

    setMode(defaults.mode);
    calc();
  </script>
</body>
</html>
